{% load static %}
<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Delivery Lab</title>
    <link rel="stylesheet" href="{% static 'ogistic/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'ogistic/css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'ogistic/css/style.css' %}">
    <style>
      body { background:#f5f6fa; }
      .sidebar { width:260px; position:fixed; top:0; bottom:0; left:0; background:#0d47a1; color:#fff; padding:1rem; }
      .sidebar a { color:#fff; text-decoration:none; display:block; padding:.6rem .8rem; border-radius:.5rem; }
      .sidebar a.active, .sidebar a:hover { background:#1263bf; }
      .brand { font-weight:700; font-size:1.2rem; margin-bottom:1rem; }
      .content { margin-left:280px; padding:1.5rem; }
      .topbar { background:#fff; border-bottom:1px solid #e5e7eb; padding:.8rem 1rem; border-radius:.75rem; margin-bottom:1rem; }
      .card { border-radius:.75rem; border:1px solid #e5e7eb; }
      .btn-rounded { border-radius:.5rem; }
      .table thead th { background:#f1f5f9; }
    </style>
  </head>
  <body>
    <aside class="sidebar">
      <div class="brand">Delivery Lab</div>
      <nav>
        <a href="{% url 'dashboard:index' %}" class="{% if request.resolver_match.app_name == 'dashboard' %}active{% endif %}"><i class="fa fa-home me-2"></i>Dashboard</a>
        <a href="{% url 'personal:list' %}" class="{% if request.resolver_match.app_name == 'personal' %}active{% endif %}"><i class="fa fa-users me-2"></i>Personal</a>
        <a href="{% url 'requisiciones:list' %}" class="{% if request.resolver_match.app_name == 'requisiciones' %}active{% endif %}"><i class="fa fa-clipboard me-2"></i>Requisiciones</a>
        {% if request.user.is_authenticated %}
        <a href="{% url 'usuarios:logout' %}"><i class="fa fa-sign-out me-2"></i>Salir</a>
        {% else %}
        <a href="{% url 'usuarios:login' %}"><i class="fa fa-sign-in me-2"></i>Ingresar</a>
        {% endif %}
      </nav>
    </aside>
    <main class="content">
      <div class="topbar d-flex justify-content-between align-items-center">
        <div><strong>{% block page_title %}{% endblock %}</strong></div>
        <div class="text-muted small">Usuario: {{ request.user.username|default:'-' }}</div>
      </div>
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
      {% endfor %}
      {% block content %}{% endblock %}
    </main>
    <script src="{% static 'ogistic/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'ogistic/js/main.js' %}"></script>
  </body>
</html>
